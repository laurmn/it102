<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>

        function Card(suit, rank){ // card constructor
            this.suit = suit; // assigns suit from parameter
            this.rank = rank; // assigns rank from parameter
            this.isVisible = false; // assigns boolean false
            this.show = function (){
                this.isVisible = true; // assigns isVisible boolean true
            };
            this.hide = function (){
                this.isVisible = false; // assigns isVisible boolean false
            };
            } 

            let deck = {hearts:[], clubs:[], diamonds:[], spades:[]};

            // AI improved deck generation
            const RANK_NAMES = {
                0: "ace",
                10: "jack",
                11: "queen",
                12: "king"
            };
            
            const SUITS = ["hearts", "clubs", "diamonds", "spades"];
                        
            for (let i = 0; i < 13; i++) {
                SUITS.forEach(suit => {
                    const card = new Card(suit, i + 1);
                    const rankName = RANK_NAMES[i];
                    
                    if (rankName) {
                        card.rank = rankName;
                    }
                    
                    deck[suit][i] = card;
                });
            }
            // end AI section

            let cards = deck.hearts.concat(deck.clubs).concat(deck.diamonds).concat(deck.spades);
        
        var picked = Math.floor(Math.random()*52);
                    
        cards.splice(picked,1);
        var picked2 = Math.floor(Math.random()*51);
        
        document.write("The first card is the " + cards[picked].rank + " of " + cards[picked].suit + " and the second card is the " + cards[picked2].rank + " of " + cards[picked2].suit);

        //create a function to add the values of selected cards and add JSDOC documentation (AI)
            // Create a function to add the values of selected cards
            /**
             * Calculate the blackjack-style value of two cards and return their sum.
             *
             * Behavior:
             * - An ace (rank === "ace") counts as 11.
             * - Face cards ("jack", "queen", "king") count as 10.
             * - Numeric ranks use their numeric value (coerced if necessary).
             *
             * @param {{rank: string|number}} card1 - First card object (expects at least a `rank` property)
             * @param {{rank: string|number}} card2 - Second card object (expects at least a `rank` property)
             * @returns {number} Sum of the two card values.
             */
            function addCardValues(card1, card2){
                let value1 = (card1.rank === "ace") ? 11 : (["jack", "queen", "king"].includes(card1.rank) ? 10 : card1.rank);
                let value2 = (card2.rank === "ace") ? 11 : (["jack", "queen", "king"].includes(card2.rank) ? 10 : card2.rank);
                return value1 + value2;
            }
        
    </script>

</head>
<body>
    <p id = "card1"></p>
    <p id = "card2"></p>
</body>
</html>