<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Grocery List V2</title>
  </head>
  <body>
    <h2>Grocery List</h2>
    Enter grocery items separated by commas.
    <br>
    <textarea id="groceryInput" placeholder='Enter grocery items and sperate with comma ","when finished.'></textarea>
    <br>
    <button onclick="createGroceryList()">Create Grocery List</button>
    <p id="openList"></p>
    <p id="groceryList"></p>
    <p id="closeList"></p>
    <p>Total items: <span id="totalItems"></span></p>

  <script>
    function createGroceryList() {
        
        let userInput = document.getElementById("groceryInput").value;
        
    //Check for empty input from user NOT WORKING  
        if(userInput == ""){
            alert("Invalid input! \nPlease list at least one item to generate grocery list.")
        }else{
        
            // Split input string into array
            let groceryItems = userInput.split(",");
            console.log(groceryItems);
        
            // Trim white space from each items by looping through array
            let numberOfItems = groceryItems.length;           
            for(i = 0; i < numberOfItems; i++) {
                groceryItems[i] = groceryItems[i].trim();
                // groceryItems[i] = groceryItems[i].replace(",", ""); // replaces commas with nothing in string
            }
            console.log(groceryItems);

            // Sort groceryItems alphabetically
            groceryItems.sort();
            alert(groceryItems);
        
            // Display grocery list to webpage
            
			document.getElementById("beginList").innerHTML = ("<ol>");
			for(i = 0; i < numberOfItems; i++){
                document.getElementById("groceryList").innerHTML = ("<li>" + groceryItems[i] + "</li>");
			}
            document.getElementById("closeList").innerHTML = ("</ol>");
            document.getElementById("totalItems").innerHTML = (numberOfItems);
        };
    }
  </script>
  </body>
</html>